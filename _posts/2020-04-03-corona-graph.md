---
layout: post
title:  "COVID-19 나라별 누적 확진자 그래프 그리기"
date:   2020-04-03
categories: Python Math
---
COVID-19 나라별 누적 확진자 데이터를 이용해서 그래프를 그려보았다.

나라별 누적확진자 데이터는 아래 GITHUB에서 데이터를 받아왔다.

[https://github.com/pomber/covid19](https://github.com/pomber/covid19)

[Github code](https://github.com/spro1/study_ml/tree/master/corona)

------------------------------------------

먼저 json 형태의 데이터를 불러와 csv 형태로 변형하였다.

```
import json

with open('timeseries.json') as json_file:
    json_data = json.load(json_file)
```

timeseries.json
```
{
  "Afghanistan": [
    {
      "date": "2020-1-22",
      "confirmed": 0,
      "deaths": 0,
      "recovered": 0
    },
    {
...(생략)
```

corona_day_data.csv

    Country,2020-1-22,2020-1-23,2020-1-24,2020-1-25,2020-1-26,2020-1-27,2020-1-28,2020-1-29,2020-1-30,2020-1-31,2020-2-1,2020-2-2,2020-2-3,2020-2-4,2020-2-5,2020-2-6,2020-2-7,2020-2-8,2020-2-9,2020-2-10,2020-2-11,2020-2-12,2020-2-13,2020-2-14,2020-2-15,2020-2-16,2020-2-17,2020-2-18,2020-2-19,2020-2-20,2020-2-21,2020-2-22,2020-2-23,2020-2-24,2020-2-25,2020-2-26,2020-2-27,2020-2-28,2020-2-29,2020-3-1,2020-3-2,2020-3-3,2020-3-4,2020-3-5,2020-3-6,2020-3-7,2020-3-8,2020-3-9,2020-3-10,2020-3-11,2020-3-12,2020-3-13,2020-3-14,2020-3-15,2020-3-16,2020-3-17,2020-3-18,2020-3-19,2020-3-20,2020-3-21,2020-3-22,2020-3-23,2020-3-24,2020-3-25,2020-3-26,2020-3-27,2020-3-28,2020-3-29,2020-3-30,2020-3-31,2020-4-1
    Afghanistan,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,5,7,7,7,11,16,21,22,22,22,24,24,40,40,74,84,94,110,110,120,170,174,237
    Albania,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,10,12,23,33,38,42,51,55,59,64,70,76,89,104,123,146,174,186,197,212,223,243,259
    Algeria,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,3,5,12,12,17,17,19,20,20,20,24,26,37,48,54,60,74,87,90,139,201,230,264,302,367,409,454,511,584,716,847

    ...(생략)


이후 pandas와 matplotlib를 이용해서 일별 누적확진자 그래프를 만들었다.
Country를 기준으로 테이블을 만들고 일별 누적확진자를 만들기 위해 행과 열의 값을 바꿔주었다.
Y축의 값을 현재 확진자 수와 비슷하게 설정을 해주고 그래프를 생성했다.
```
import matplotlib.pyplot as plt
import pandas as pd


df = pd.read_csv("corona_day_date.csv", index_col='Country', header=0)

df1 = df.transpose()
df1.plot()
print(df1)

plt.ylim(0, 250000)
plt.show()
plt.savefig('graph.png')
plt.close()
```

----------------------------------------------
데이터가 많아 시각화가 제대로 되지 않았지만 아래와 같은 간단한 선 그래프를 만들 수 있다.

![graph](https://user-images.githubusercontent.com/12808575/78277139-f9f98680-754e-11ea-863c-2f9d2b4af32a.png)

데이터 공부를 위해 COVID-19의 데이터를 사용했지만 해당 사태의 빠른 종식을 기원한다.

    

